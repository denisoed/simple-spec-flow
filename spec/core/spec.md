<!-- spec-feature: спецификация -->

Заготовка помогает описать фичу перед реализацией в процессе **spec-feature**.

**Параметры**

- **FEATURE** — название папки, в которой будет сохранена спецификация. Берётся из значения между первыми двумя символами `@` (например, `@payments@` → `payments`).
- **CONTEXT** — основной контекст для описания фичи. Считай всем содержимым после второго `@` в строке параметров; контекст может занимать несколько строк и включать дополнительные пояснения.

**Общие правила**

- Работай только с файлами спецификаций: не создавай код и новые каталоги.
- Подставляй конкретные значения вместо заглушек (`{FEATURE}`, `{CONTEXT}` и т.п.). В финальном документе не должно быть подсказок, примеров или маркеров `...`.
- Заголовок спецификации должен содержать понятное название фичи (при необходимости адаптируй значение **FEATURE**).
- Структуру из шаблона ниже нужно заполнить содержанием: тезисы, списки и таблицы допускаются, пустые разделы — нет.
- Если данных для раздела недостаточно, явно пиши `Нет данных — нужно уточнить: <что именно>` вместо пустого заголовка.
- Перед завершением документа выполни самопроверку и отметь чекбоксы в разделе «Контроль выполнения инструкций».

**Что требуется раскрыть в спецификации**

- `## User Stories` — минимум три завершённые истории. У каждой фиксируй роль, действие и результат/ценность.
- `## Основные сценарии и правила` — ключевые сценарии использования, ограничения, варианты ошибок.
- `## Нефункциональные требования` — SLA, производительность, безопасность, локализация, доступность и другие нефункциональные критерии.
- `## Assumptions` — явные предположения и вопросы, которые нужно уточнить до разработки.

**Шаги**

1. В начале результата вставь комментарий для указания пути сохранения:
   ```md
   <!-- SAVE_AS: spec/features/{FEATURE}/spec.md -->
   ```
2. Сформируй спецификацию по разделам выше, опираясь на **CONTEXT** и доступный дополнительный контекст.
3. Проверь, что документ оформлен в Markdown и не содержит незаполненных заглушек.
4. В конце документа добавь раздел «## Контроль выполнения инструкций» с чекбоксами из шаблона и отметь каждый пункт `[x]`, если условие выполнено.

**Шаблон результата**

```md
# {FEATURE}

**Спецификация:** {CONTEXT}

## User Stories

## Основные сценарии и правила

## Нефункциональные требования

## Assumptions

## Контроль выполнения инструкций

- [ ] Структура шаблона полностью сохранена, каждый раздел заполнен содержанием или пометкой «Нет данных — нужно уточнить».
- [ ] Контекст из **CONTEXT** отражён во всех разделах.
- [ ] Документ готов к сохранению и не содержит служебных подсказок.
```

Пиши строго в Markdown и не добавляй ничего вне документа. **Цель** — сохранить файл `/spec/features/{FEATURE}/spec.md` с описанием того, ЧТО делаем и ЗАЧЕМ, на основе **CONTEXT**.