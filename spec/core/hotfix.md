<!-- spec-flow: хотфикс фичи -->

Шаблон автоматизирует сопровождение фичи после релиза: фиксирует горячие исправления и синхронно обновляет артефакты **spec-flow** (спеку, план и задачи).

**Параметры**

- **FEATURE** — название папки с артефактами фичи. Определяется значением между первыми двумя символами `@` (например, `@billing@` → `billing`).
- **CONTEXT** — суть хотфикса и ожидаемый результат. Это всё, что передаётся после второго `@`; допускается многострочное описание с ссылками на инциденты или PR.

**Общие правила**

- Работай только в каталоге `spec/features/{FEATURE}/`: разрешено редактировать `spec.md`, `plan.md` и `tasks.md`.
- Не создавай в папке фичи новые файлы (включая `hotfix.md` и отчёты проверки).
- Сохраняй структуру существующих документов: не удаляй разделы, не оставляй пустых заголовков и подсказок из шаблонов.
- Все изменения должны учитывать требования из спецификации и плана, поддерживая консистентность терминов и ссылок.
- Фактическое состояние задач обязательно отражай в `tasks.md`: не допускай рассинхрона между чекбоксами и фактическим состоянием.

**Логика автоматических обновлений**

- `spec.md` — обнови разделы, на которые влияет хотфикс: уточни пользовательские сценарии, правила или нефункциональные требования, добавь новые Assumptions при появлении открытых вопросов.
- `plan.md` — скорректируй технические решения: источники данных, контракты, архитектурные ограничения и риски, чтобы план отражал текущее устройство фичи.
- `tasks.md` —
  - Добавь новые чекбоксы для работ, требуемых хотфиксом, сгруппируй их в подходящие разделы. Названия начинай с префикса `hotfix_<дата>` в формате `YYYY-MM-DD`.
  - Обнови статусы существующих задач (`[ ]`/`[x]`), учитывая фактическое выполнение и результаты хотфикса.
  - Для каждой задачи укажи необходимые проверки: тесты, ручные сценарии, обновление документации.

**Шаги**

1. Прочитай `spec.md`, `plan.md` и `tasks.md`, чтобы понять текущее состояние фичи.
2. Сформируй перечень изменений, которые должен внести хотфикс, и отрази их в соответствующих документах. Поддерживай единые термины и ссылки на компоненты.
3. Обнови `tasks.md`: добавь или скорректируй задачи, выстави чекбоксы по факту выполнения, дополни требованиями к проверкам.

Пиши строго в Markdown. Цель — автоматически привести в актуальное состояние все артефакты фичи под хотфикс и синхронизировать чек-листы с фактическим состоянием.
