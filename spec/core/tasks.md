<!-- spec-feature: список задач -->

Заготовка помогает сформировать список задач на реализацию фичи в процессе **spec-feature**.

**Параметры**

- **FEATURE** — название папки, в которой будет сохранён список задач. Берётся из значения между первыми двумя символами `@` (например, `@payments@` → `payments`).
- **CONTEXT** — основной контекст для подготовки задач. Считай всем содержимым после второго `@` в строке параметров; контекст может занимать несколько строк и включать дополнительные пояснения.

**Общие правила**

- Работай только с файлами спецификаций: не создавай код и новые каталоги.
- Используй `spec/core/spec.md` и `spec/core/plan.md` как базовые источники спецификации и плана при подготовке задач.
- Используй `spec/features/{FEATURE}/spec.md` и `spec/features/{FEATURE}/plan.md` как дополнительный контекст. Если какого-то файла нет, продолжай работу, опираясь на доступные материалы и **CONTEXT**.
- Подставляй конкретные значения вместо заглушек (`{FEATURE}`, `{CONTEXT}` и т.п.). В финальном документе не должно быть подсказок, примеров или маркеров `...`.
- Каждая задача — это чекбокс с формулировкой результата и описанием обязательных проверок/тестов.
- Если направление не требуется, явно укажи под соответствующим подзаголовком `Не требуется — причина: <пояснение>`.
- После заполнения документа отметь чекбоксы самопроверки в разделе «Контроль выполнения инструкций».

**Что требуется раскрыть в задачах**

- `## Основные направления` — сгруппируй задачи по ключевым направлениям из **CONTEXT** (API, UI, интеграции, инфраструктура и т.д.). Для каждого направления выдели отдельный подзаголовок и перечисли задачи внутри него.
- `## Поддерживающие задачи` — документация, наблюдаемость, качество и другие сквозные активности. Если пункт не нужен, замени его пояснением, почему можно обойтись без него.
- `## Definition of Done` — критерии завершения фичи: тесты, документация и прочие обязательные условия.

**Шаги**

1. Добавь в начало результата комментарий для указания пути сохранения:
   ```md
   <!-- SAVE_AS: spec/features/{FEATURE}/tasks.md -->
   ```
2. Сформируй список задач по разделам выше, опираясь на **CONTEXT** и доступный дополнительный контекст.
3. Убедись, что задачи покрывают реализацию, проверку и выпуск фичи. Итоговый Markdown не должен содержать незаполненных заглушек.
4. Зафиксируй в разделе `## Definition of Done`, что запуск `/spec/core/verify.md` выполняется после выполнения всех задач, чтобы исполнители сделали это автоматически по завершении списка.
5. Добавь в конец документа раздел «## Контроль выполнения инструкций» из шаблона и отметь все чекбоксы `[x]`, если условие выполнено.

**Шаблон результата**

```md
# Задачи

**Контекст:** {CONTEXT}

## Основные направления

## Поддерживающие задачи

- [ ] Документация: обновить релевантные инструкции и описания.
- [ ] Наблюдаемость: добавить или уточнить метрики, алерты и/или логирование.
- [ ] Code review и PR: подготовить изменения к ревью и сопроводительную информацию.

## Definition of Done

- [ ] Все задачи выполнены и протестированы.
- [ ] Релевантные unit/e2e/интеграционные тесты проходят успешно.
- [ ] Документация и операционные инструкции обновлены.
- [ ] `/spec/core/verify.md` выполнен после завершения всех задач для проверки списка задач.

## Контроль выполнения инструкций

- [ ] Все направления и задачи сформулированы чекбоксами с критериями приёмки.
- [ ] Нет пустых разделов: для неактуальных направлений добавлено пояснение «Не требуется — причина».
- [ ] Definition of Done содержит ссылку на запуск `/spec/core/verify.md`.
```

Пиши строго в Markdown, не добавляй ничего вне документа и не приступай к выполнению задач без отдельного запроса. **Цель** — сохранить файл `/spec/features/{FEATURE}/tasks.md` со списком того, ЧТО делаем и как проверяем результат, на основе **CONTEXT** и подготовленных материалов.