<!-- spec-feature: единый запуск -->

Заготовка позволяет за один запрос сформировать полный комплект документов фичи в процессе **spec-feature**.

**Параметры**

- **FEATURE** — название папки, в которой будут сохранены артефакты. Определяется значением между первыми двумя символами `@` (например, `@payments@` → `payments`).
- **CONTEXT** — подробное описание фичи: цели, функциональные и нефункциональные требования, ограничения, план реализации. Считай всем содержимым после второго `@` в строке параметров; текст может занимать несколько строк и включать списки.

Параметры передаются одной строкой в формате `@<feature>@ <контекст>` без XML-подобных тегов.

**Общие правила**

- Работай только с файлами спецификаций в каталоге `spec/features/{FEATURE}`: не создавай код и новые каталоги.
- Если значение **FEATURE** совпадает с уже существующей фичей, обновляй её текущие материалы вместо создания новой папки и при внесении изменений используй шаблон `spec/core/hotfix.md`.
- В рамках одного запроса сформируй три отдельные Markdown-документа: `spec.md`, `plan.md` и `tasks.md`.
- Каждый документ начинай с комментария `<!-- SAVE_AS: ... -->`, чтобы указать путь сохранения.
- Все разделы из шаблонов должны быть заполнены содержанием: не оставляй пустые заголовки, заглушки или комментарии-подсказки.
- Используй последовательность: сначала спецификация, затем план (опираясь на спецификацию), после чего список задач (опираясь на спецификацию и план).
- Соблюдай требования KISS, DRY и YAGNI: решения должны быть реализуемыми без излишней сложности и дублирования.

**Шаги**

1. Подготовь спецификацию `spec/features/{FEATURE}/spec.md` по шаблону из `spec/core/spec.md`, используя **CONTEXT** как первичный контекст.
2. На основе готовой спецификации и **CONTEXT** сформируй план `spec/features/{FEATURE}/plan.md` по структуре из `spec/core/plan.md`.
3. Учитывая спецификацию, план и **CONTEXT**, составь список задач `spec/features/{FEATURE}/tasks.md` по требованиям из `spec/core/tasks.md`.
4. Проверь, что каждый документ оформлен валидным Markdown и не содержит незаполненных разделов.

**Структура результата**

```md
<!-- SAVE_AS: spec/features/{FEATURE}/spec.md -->

# {FEATURE}

...

<!-- SAVE_AS: spec/features/{FEATURE}/plan.md -->

# План реализации

...

<!-- SAVE_AS: spec/features/{FEATURE}/tasks.md -->

# Задачи

...
```

Пиши строго в Markdown и не добавляй ничего вне трёх документов. **Цель** — подготовить полный комплект материалов фичи (что делаем, как реализуем и какие задачи выполняем) за один запрос на основе **CONTEXT**.